(this.webpackJsonpbookface_v2=this.webpackJsonpbookface_v2||[]).push([[0],{11:function(e,t,n){e.exports={selected:"Users_selected__HhKjL",setUsersButton:"Users_setUsersButton__rIiPI",paginator:"Users_paginator__3LXyl"}},146:function(e,t,n){},147:function(e,t,n){},20:function(e,t,n){e.exports={navbar:"Navbar_navbar__1kHCk",menu:"Navbar_menu__2F1R7",activeLink:"Navbar_activeLink__3WQN3"}},231:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(48),c=n.n(s),o=(n(146),n(31)),i=n(32),u=n(35),l=n(34),d=(n(147),n(89)),j=n.n(d),f=n(0),p=function(e){return Object(f.jsx)("div",{className:j.a.footer,children:Object(f.jsx)("div",{children:"This site create by lex94 with love :)"})})},b=function(e){return Object(f.jsx)("div",{})},h=n(8),O=n(17),x=n(26),v=n(25),g=n(9),m=function(e){return e.usersPage.users},_=function(e){return e.usersPage.totalUsersCount},P=function(e){return e.usersPage.pageSize},w=function(e){return e.usersPage.isLoad},k=function(e){return e.usersPage.currentPage},C=function(e){return e.usersPage.portionSize},T=function(e){return e.usersPage.currentPortion},N=n(11),S=n.n(N),y=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,a=e.onPageChanged,s=e.currentPortion,c=e.portionSize,o=e.setCurrentPortion,i=Math.ceil(t/n),u=[],l=1;l<=i;l++)u.push(l);var d=Math.ceil(i/c),j=(s-1)*c,p=s*c+1;return Object(f.jsxs)("div",{className:S.a.paginator,children:[Object(f.jsx)("div",{className:S.a.prevButton,children:Object(f.jsx)("button",{disabled:s<=1,onClick:function(){o(s-1)},children:"PREV"})}),Object(f.jsx)("div",{className:S.a.pages,children:u.map((function(e){if(e>j&&e<p)return Object(f.jsxs)("span",{className:r===e?S.a.selected:"",onClick:function(){a(e)},children:[e," "]},e)}))}),Object(f.jsx)("div",{className:S.a.nextButton,children:Object(f.jsx)("button",{disabled:s===d,onClick:function(){o(s+1)},children:"NEXT"})})]})},U=n(80),E=n(10),L=function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:S.a.userItem,children:[Object(f.jsxs)("div",{className:S.a.avatarBlock,children:[Object(f.jsx)("div",{className:S.a.userAvatar,children:Object(f.jsx)(E.b,{to:"profile/"+e.user.id,children:Object(f.jsx)("img",{src:null!=e.user.photos.small?e.user.photos.small:U.a,alt:"avatar"})})}),Object(f.jsx)("div",{className:S.a.followButton,children:e.user.followed?Object(f.jsx)("button",{onClick:function(){e.unfollow(e.user.id)},children:"Remove"}):Object(f.jsx)("button",{onClick:function(){e.follow(e.user.id)},children:"Add"})})]}),Object(f.jsxs)("div",{className:S.a.infoBlock,children:[Object(f.jsx)("div",{className:S.a.name,children:e.user.name}),Object(f.jsx)("div",{className:S.a.status,children:e.user.status}),Object(f.jsxs)("div",{className:S.a.location,children:["u.location.city",", ","u.location.country"]})]})]})})},I=Object(O.b)((function(e){return{users:m(e),pageSize:P(e),totalUsersCount:_(e),currentPage:k(e),isLoad:w(e),portionSize:C(e),currentPortion:T(e),usersAPI:g.c}}),{follow:x.b,unfollow:x.g,setCurrentPage:x.d,getUsers:x.c,setCurrentPortion:x.e})((function(e){Object(r.useEffect)((function(){e.getUsers(e.currentPage,e.pageSize)}),[e.totalUsersCount]);return Object(f.jsxs)(f.Fragment,{children:[e.isLoad&&Object(f.jsx)(v.a,{}),Object(f.jsx)(y,{onPageChanged:function(t){e.getUsers(t,e.pageSize),e.setCurrentPage(t)},totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,currentPortion:e.currentPortion,portionSize:e.portionSize,setCurrentPortion:e.setCurrentPortion}),e.users.filter((function(e){return null!=e.photos.small&&null!=e.photos.large})).map((function(t){return Object(f.jsx)(L,{user:t,follow:e.follow,unfollow:e.unfollow},t.id)}))]})})),B=n(3),A=n(5),z=n.n(A),R=function(e){return Object(f.jsx)("div",{className:z.a.avatar,children:Object(f.jsx)("img",{src:e.avatar,alt:"avatar"})})},M=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:z.a.avatar,children:Object(f.jsx)(R,{avatar:e.avatar})}),e.isOwner&&Object(f.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.uploadUserPhoto(t.target.files[0])}}),Object(f.jsx)("div",{className:z.a.name,children:e.name})]})},D=function(e){return Object(f.jsx)("div",{children:"photo"})},F=n(63),H=n.n(F),X=function(e){return Object(f.jsxs)("div",{className:H.a.post,children:[Object(f.jsx)("div",{children:Object(f.jsx)(R,{avatar:e.avatar})}),Object(f.jsx)("div",{className:H.a.text,children:e.postText}),Object(f.jsxs)("div",{children:["Like: ",e.likeCount]})]})},G=function(e){var t=a.a.createRef(),n=e.posts.map((function(t){return Object(f.jsx)(X,{id:t.id,postText:t.postText,likeCount:t.likeCount,avatar:e.avatar},t.id)}));return Object(f.jsxs)("div",{className:z.a.postBlock,children:[Object(f.jsxs)("div",{className:z.a.textarea,children:[Object(f.jsx)("textarea",{name:"addPost",placeholder:"How are you?",ref:t,value:e.newPostText,onChange:function(){var n=t.current.value;e.updateNewPostText(n)},className:z.a.postTextarea}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){e.addPost()},children:"Add post"})})]}),Object(f.jsx)("div",{children:n})]})},W=n(64),V=function(e){var t=Object(r.useState)(!1),n=Object(W.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(e.status),o=Object(W.a)(c,2),i=o[0],u=o[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:z.a.status,children:a?Object(f.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},type:"text",value:i,autoFocus:!0,onBlur:function(){s(!1),e.updateUserStatus(i)}}):Object(f.jsx)("div",{children:e.status?Object(f.jsxs)("span",{onClick:function(){s(!0)},children:["Status: ",e.status]}):Object(f.jsx)("span",{children:"not status"})})}),Object(f.jsxs)("div",{className:z.a.profile,children:["About me: ",e.profile]})]})},Z=function(e){return Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:"https://i.ibb.co/st5tL86/profile-Img.png",alt:"profile img"})})},q=function(e){return Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:"projects"})})},K=n(7),Q=n.n(K),J=n(13),Y=n(50),$="profile/ADD_POST",ee="profile/DELETE_POST",te="profile/UPDATE_NEW_POST_TEXT",ne="profile/SET_PROFILE",re="profile/SET_STATUS",ae="SET_PHOTO",se={posts:[{id:2,postText:"This is new social network! I made my social network, with blackjack and whores!",likeCount:5},{id:1,postText:"Hello world!",likeCount:3}],usersProfile:[{id:1,position:"Boss",responsibility:"front-end",telephoneNumber:"+7-910-934-32-07",dateOfEmployment:"22.02.2020"}],newPostText:"",profile:null,status:null},ce=function(e){return{type:re,status:e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(B.a)(Object(B.a)({},e),{},{posts:[{id:3,postText:e.newPostText,likeCount:0}].concat(Object(Y.a)(e.posts)),newPostText:""});case ee:return Object(B.a)(Object(B.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case te:return Object(B.a)(Object(B.a)({},e),{},{newPostText:t.newPostText});case ne:return Object(B.a)(Object(B.a)({},e),{},{profile:t.profile});case re:return Object(B.a)(Object(B.a)({},e),{},{status:t.status});case ae:return Object(B.a)(Object(B.a)({},e),{},{profile:Object(B.a)(Object(B.a)({},e.profile),{},{photos:t.photos})});default:return e}},ie=function(e){return e.profile?Object(f.jsxs)("div",{className:z.a.profilePage,children:[Object(f.jsx)("div",{className:z.a.profileImgBlock,children:Object(f.jsx)(Z,{})}),Object(f.jsx)("div",{className:z.a.avatarBlock+" "+z.a.block,children:Object(f.jsx)(M,{avatar:e.profile.photos.large,name:e.profile.fullName,isOwner:e.isOwner,uploadUserPhoto:e.uploadUserPhoto})}),Object(f.jsx)("div",{className:z.a.profileBlock+" "+z.a.block,children:Object(f.jsx)(V,{profile:e.profile.aboutMe,status:e.status,updateUserStatus:e.updateUserStatus})}),Object(f.jsx)("div",{className:z.a.projectsBlock+" "+z.a.block,children:Object(f.jsx)(q,{})}),Object(f.jsx)("div",{className:z.a.photoBlock+" "+z.a.block,children:Object(f.jsx)(D,{})}),Object(f.jsx)("div",{className:z.a.postsBlock+" "+z.a.block,children:Object(f.jsx)(G,{addPost:e.addPost,updateNewPostText:e.updateNewPostText,posts:e.posts,newPostText:e.newPostText,avatar:e.profile.photos.large})})]}):Object(f.jsx)(v.a,{})},ue=n(33),le=n(22),de=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"refreshData",value:function(){var e=this.props.match.params.userId;if(!e&&!(e=this.props.defaultId))return Object(f.jsx)(h.a,{to:"/login"});this.props.getProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshData()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshData()}},{key:"render",value:function(){return Object(f.jsx)(ie,Object(B.a)(Object(B.a)({},this.props),{},{isOwner:!this.props.match.params.userId,uploadUserPhoto:this.props.uploadUserPhoto}))}}]),n}(a.a.Component),je=Object(le.d)(Object(O.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile,status:e.profilePage.status,profileAPI:g.b,defaultId:e.auth.id}}),{getProfile:function(e){return function(){var t=Object(J.a)(Q.a.mark((function t(n){var r;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.b.getProfile(e);case 2:r=t.sent,n({type:ne,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addPost:function(){return{type:$}},updateNewPostText:function(e){return{type:te,newPostText:e}},getUserStatus:function(e){return function(){var t=Object(J.a)(Q.a.mark((function t(n){var r;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.b.getStatus(e);case 2:r=t.sent,n(ce(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(J.a)(Q.a.mark((function t(n){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(ce(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},uploadUserPhoto:function(e){return function(){var t=Object(J.a)(Q.a.mark((function t(n){var r;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,g.b.uploadPhoto(e);case 3:0===(r=t.sent).resultCode&&n((a=r.data.photos,{type:ae,photos:a}));case 5:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()}}),h.f,ue.b)(de),fe=n(51),pe=n.n(fe),be=function(e){return Object(f.jsxs)("header",{className:pe.a.header,children:[Object(f.jsxs)("div",{className:pe.a.logo,children:[Object(f.jsx)("img",{src:"https://i.ibb.co/Hx4qhXZ/VR-Group-logo-svg.png",alt:"logo"}),Object(f.jsx)("span",{children:"VReacte"})]}),Object(f.jsx)("div",{className:pe.a.auth,children:e.isLogin?Object(f.jsx)("div",{onClick:e.deleteAuthUserData,children:e.login}):Object(f.jsx)(E.b,{to:"/login",children:"please login"})})]})},he=n(30),Oe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(f.jsx)(be,Object(B.a)({},this.props))}}]),n}(a.a.Component),xe=Object(O.b)((function(e){return{login:e.auth.login,isLogin:e.auth.isLogin}}),{deleteAuthUserData:he.b})(Oe),ve=n(20),ge=n.n(ve),me=function(e){return Object(f.jsxs)("nav",{className:ge.a.navbar,children:[Object(f.jsx)("div",{className:ge.a.background}),Object(f.jsxs)("div",{className:ge.a.menu,children:[Object(f.jsx)("div",{children:Object(f.jsx)(E.b,{to:"/profile/",activeClassName:ge.a.activeLink,children:"Profile"})}),Object(f.jsx)("div",{children:Object(f.jsx)(E.b,{to:"/dialogs",activeClassName:ge.a.activeLink,children:"Messages"})}),Object(f.jsx)("div",{children:Object(f.jsx)(E.b,{to:"/news",activeClassName:ge.a.activeLink,children:"News"})}),Object(f.jsx)("div",{children:Object(f.jsx)(E.b,{to:"/music",activeClassName:ge.a.activeLink,children:"Music"})}),Object(f.jsx)("div",{children:Object(f.jsx)(E.b,{to:"/settings",activeClassName:ge.a.activeLink,children:"Settings"})}),Object(f.jsx)("div",{children:Object(f.jsx)(E.b,{to:"/users",activeClassName:ge.a.activeLink,children:"Users"})}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{children:Object(f.jsx)(E.b,{to:"/friends",activeClassName:ge.a.activeLink,children:"Friends"})})]})]})},_e="app/INITIALIZED_SUCCESS",Pe={isInitialized:!1},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(B.a)(Object(B.a)({},e),{},{isInitialized:!0});default:return e}},ke=a.a.lazy((function(){return n.e(4).then(n.bind(null,293))})),Ce=a.a.lazy((function(){return n.e(5).then(n.bind(null,295))})),Te=a.a.lazy((function(){return Promise.all([n.e(3),n.e(6)]).then(n.bind(null,294))})),Ne=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initialApp()}},{key:"render",value:function(){return this.props.isInitialized?Object(f.jsxs)("div",{className:"app",children:[Object(f.jsx)(xe,{}),Object(f.jsx)(me,{}),Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)(h.b,{exact:!0,path:"/",render:function(){return Object(f.jsx)(h.a,{to:"/profile"})}}),Object(f.jsx)(h.b,{path:"/profile/:userId?",render:function(){return Object(f.jsx)(je,{})}}),Object(f.jsx)(h.b,{path:"/dialogs",render:Object(ue.a)(ke)}),Object(f.jsx)(h.b,{path:"/users",render:function(){return Object(f.jsx)(I,{})}}),Object(f.jsx)(h.b,{path:"/friends",render:Object(ue.a)(Ce)}),Object(f.jsx)(h.b,{path:"/login",render:Object(ue.a)(Te)})]}),Object(f.jsx)("div",{className:"background",children:Object(f.jsx)(b,{})}),Object(f.jsx)(p,{})]}):Object(f.jsx)(v.a,{})}}]),n}(a.a.Component),Se=Object(O.b)((function(e){return{isInitialized:e.app.isInitialized}}),{initialApp:function(){return function(e){e(Object(he.c)()).then((function(){e({type:_e})}))}}})(Ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=n(81),Ue={navBar:[{id:1,name:"Pashok",avatar:"https://i.ibb.co/HxhbGXP/Zoidberg-rev.jpg"},{id:2,name:"Polina",avatar:"https://i.ibb.co/bQdMS9z/Amy-rev.jpg"},{id:3,name:"Vovan",avatar:"https://i.ibb.co/0BRBtWB/unnamed.gif"}]},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;return e},Le=n(92),Ie=n(87),Be=Object(le.c)({profilePage:oe,dialogsPage:ye.a,navBar:Ee,usersPage:x.a,auth:he.a,form:Ie.a,app:we}),Ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.d,ze=Object(le.e)(Be,Ae(Object(le.a)(Le.a)));window.store=ze.getState();var Re=ze,Me=function(e){c.a.render(Object(f.jsx)(E.a,{children:Object(f.jsx)(O.a,{store:Re,children:Object(f.jsx)(Se,{})})}),document.getElementById("root"))};Me(Re.getState()),Re.subscribe((function(){Re.getState();Me()})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},25:function(e,t,n){"use strict";n(1);var r=n.p+"static/media/preloader.5342aab4.svg",a=n(0);t.a=function(){return Object(a.jsx)("div",{id:"preloaderImg",children:Object(a.jsx)("img",{src:r,alt:"load"})})}},26:function(e,t,n){"use strict";n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return k})),n.d(t,"g",(function(){return C}));var r=n(7),a=n.n(r),s=n(13),c=n(3),o=n(9),i=function(e,t,n,r){return e.map((function(e){return e[t]===n?Object(c.a)(Object(c.a)({},e),r):e}))},u="users/FOLLOW",l="users/UNFOLLOW",d="users/SET_USERS",j="users/SET_CURRENT_PAGE",f="users/SET_USERS_TOTAL_COUNT",p="users/TOGGLE_ISLOAD",b="SET_CURRENT_PORTION",h={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isLoad:!1,portionSize:20,currentPortion:1},O=function(e){return{type:u,userId:e}},x=function(e){return{type:l,userId:e}},v=function(e){return{type:d,users:e}},g=function(e){return{type:j,currentPage:e}},m=function(e){return{type:p,isLoad:e}},_=function(e){return{type:b,newCurrentPortion:e}},P=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(m(!0)),n.next=3,o.c.getUsers(e,t);case 3:s=n.sent,r(m(!1)),r(v(s.items)),r((a=s.totalCount,{type:f,totalUsersCount:a}));case 7:case"end":return n.stop()}var a}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r,s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(s);case 2:0===e.sent.resultCode&&r(n);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),k=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(o.c.follow.bind(o.c),O(e),n,e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(o.c.unfollow.bind(o.c),x(e),n,e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(c.a)(Object(c.a)({},e),{},{users:i(e.users,"id",t.userId,{followed:!0})});case l:return Object(c.a)(Object(c.a)({},e),{},{users:i(e.users,"id",t.userId,{followed:!1})});case d:return Object(c.a)(Object(c.a)({},e),{},{users:t.users});case j:return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage,users:[]});case f:return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.totalUsersCount});case p:return Object(c.a)(Object(c.a)({},e),{},{isLoad:t.isLoad});case b:return Object(c.a)(Object(c.a)({},e),{},{currentPortion:t.newCurrentPortion});default:return e}}},30:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return h}));var r=n(7),a=n.n(r),s=n(13),c=n(3),o=n(9),i=n(53),u="auth/SET_AUTH_USER_DATA",l="auth/SET_CAPTCHA_URL",d={id:null,login:null,email:null,isLogin:!1,captchaUrl:null},j=function(e,t){return{type:u,data:e,isLogin:t}},f=function(e){return{type:l,captchaUrl:e}},p=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.getMe();case 2:0===(n=e.sent).resultCode?t(j(n.data,!0)):t(j({id:null,login:null,email:null},!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.login(e);case 2:if(r=t.sent,s=r.messages.length>0?r.messages[0]:"Some Error",0!==r.resultCode){t.next=8;break}n(p()),t.next=17;break;case 8:if(1!==r.resultCode){t.next=12;break}n(Object(i.a)("login",{_error:s})),t.next=17;break;case 12:if(10!==r.resultCode){t.next=17;break}return t.next=15,o.a.getCaptchaUrl();case 15:c=t.sent,n(f(c.url));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.logout();case 2:0===e.sent.resultCode&&t(p());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(c.a)(Object(c.a)(Object(c.a)({},e),t.data),{},{isLogin:t.isLogin});case l:return Object(c.a)(Object(c.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}}},33:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));n(88);var r=n(3),a=n(1),s=n(17),c=n(8),o=(n(59),n(25)),i=n(0),u=function(e){return{isLogin:e.auth.isLogin}},l=function(e){return Object(s.b)(u)((function(t){return t.isLogin?Object(i.jsx)(e,Object(r.a)({},t)):Object(i.jsx)(c.a,{to:"/login"})}))},d=function(e){return function(){return Object(i.jsx)(a.Suspense,{fallback:Object(i.jsx)(o.a,{}),children:Object(i.jsx)(e,{})})}}},5:function(e,t,n){e.exports={profilePage:"Profile_profilePage__F-bi9",profileImgBlock:"Profile_profileImgBlock__28v2T",avatarBlock:"Profile_avatarBlock__17wuG",avatar:"Profile_avatar__35jdq",profileBlock:"Profile_profileBlock__2MyBW",projectsBlock:"Profile_projectsBlock__31E9L",photoBlock:"Profile_photoBlock__3LVV_",postsBlock:"Profile_postsBlock__31xi2",textarea:"Profile_textarea__2YHwN",block:"Profile_block__1631X",name:"Profile_name__1oLAi",postTextarea:"Profile_postTextarea__3Ct1I",profileInfo:"Profile_profileInfo__2ZnTm"}},51:function(e,t,n){e.exports={header:"Header_header__1CGKd",logo:"Header_logo__ffv_d",auth:"Header_auth__2BNLo"}},59:function(e,t,n){e.exports={formControl:"FormsControl_formControl__11g5d",error:"FormsControl_error__1uqcA",redText:"FormsControl_redText__2dzox"}},63:function(e,t,n){e.exports={post:"Post_post__1x1up",text:"Post_text__1RXiU"}},80:function(e,t,n){"use strict";t.a=n.p+"static/media/user.c9034bb5.png"},81:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u}));var r=n(50),a=n(3),s="dialog/SEND-MESSAGE",c="dialog/UPDATE-NEW-MESSAGE-TEXT",o={dialogs:[{id:1,name:"Pashok",avatar:"https://i.ibb.co/HxhbGXP/Zoidberg-rev.jpg"},{id:2,name:"Polina",avatar:"https://i.ibb.co/bQdMS9z/Amy-rev.jpg"},{id:3,name:"Vovan",avatar:"https://i.ibb.co/0BRBtWB/unnamed.gif"}],messages:[{id:1,message:"i am kachok"},{id:2,message:"ti gde?"},{id:3,message:"Poidem buhat`?"}],newMessageText:""},i=function(){return{type:s}},u=function(e){return{type:c,newMessageText:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n=e.newMessageText;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:4,message:n}]),newMessageText:""});case c:return Object(a.a)(Object(a.a)({},e),{},{newMessageText:t.newMessageText});default:return e}}},89:function(e,t,n){e.exports={footer:"Footer_footer__3kRR3"}},9:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(3),a=n(91),s=n.n(a).a.create({withCredentials:!0,headers:{"API-KEY":"ca78cc0b-4b4d-4a86-9c5b-ca3e19ff60be"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),c={getUsers:function(e,t){return s.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return s.post("follow/".concat(e),{}).then((function(e){return e.data}))},unfollow:function(e){return s.delete("follow/".concat(e)).then((function(e){return e.data}))}},o={getProfile:function(e){return s.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return s.get("/profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return s.put("/profile/status",{status:e})},uploadPhoto:function(e){var t=new FormData;return t.append("image",e),s.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}},i={getMe:function(){return s.get("auth/me").then((function(e){return e.data}))},login:function(e){return s.post("auth/login",Object(r.a)({},e)).then((function(e){return e.data}))},logout:function(){return s.delete("auth/login").then((function(e){return e.data}))},getCaptchaUrl:function(){return s.get("/security/get-captcha-url").then((function(e){return e.data}))}}}},[[231,1,2]]]);
//# sourceMappingURL=main.7d4f56ef.chunk.js.map